#### 存储格式

- AVRO
  
  - 数据类型
  
  - 创建方法
  
  - 

- PARQUET

- 参考文档

##### AVRO

###### 数据类型

**基本类型**

| 类型      | 表述             | 取值范围         |
| ------- | -------------- | ------------ |
| null    | 空值             | null         |
| boolean | 布尔值            | true 或 false |
| int     | 32位有符号整数       |              |
| long    | 64位有符号整数       |              |
| float   | 32位 IEEE754浮点数 |              |
| double  | 64位 IEEE754浮点数 |              |
| bytes   | 8位字节序列         |              |
| string  | Unicode字符序列    |              |

###### 复合类型

| 类型     | 描述                                       | 模式示例                                                                                                                                  |
| ------ | ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| array  | 有序的对象集合，集合中所有对象类型必须相同                    | {"type":"array",item:"int"}                                                                                                           |
| map    | 未排序的键值对集合，其中键类型必须是string，value类型必须整个集合相同 | {"type":"map",value:"int"}                                                                                                            |
| record | 一个任意类型的命名字段组合                            | {"type":"record",<br>"namespace":"xxx",<br>"name":"example",<br>"doc":"example record"<br>"fields":[{"name":"xxx","type":"int"}]<br>} |
| enum   | 一个固定值域的集合                                | {"type":"enum",<br>"namespace":"xxx",<br>"name":"example",<br>"doc":"example record"<br>"symbols":["A","B"]<br>}                      |
| fixed  | 固定长度的二进制序列                               | {"type":"fixed",<br>"name":"MD5Hash",<br>"size":"16",<br>}                                                                            |
| union  | 表示类型模式的并集，某个数据可以有多种类型                    | ["null","string"]                                                                                                                     |

*AVRO默认数据都不为null，如果需要null，必须采用union，使其能存null*

**逻辑类型**

AVRO中的逻辑类型，在实际存储中会以对应的实际类型存储，比如Date实际存储成int

| 逻辑类型                   | 实际类型  | 描述                                 | 模式示例                                                                                                       |
| ---------------------- | ----- | ---------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| Decimal                | bytes | 表示精确数字，                            | {<br/>  "type": "bytes",<br/>  "logicalType": "decimal",<br/>  "precision": 4,<br/>  "scale": 2<br/>} |
| Date                   | int   | 表示距离1970-01-01 的天数                 | {<br/>  "type": "int",<br/>  "logicalType": "date"<br/>}                                                |
| time-millis            | int   | 不含日期的时间，精度到毫秒                      | { <br/> "type": "int", <br/> "logicalType": "time-millis" <br/>}                                           |
| time-micros            | long  | 不含日期的时间，精度到微秒                      | { <br/> "type": "long", <br/> "logicalType": "time-micros" <br/>}                                          |
| timestamp-millis       | long  | 带时区的时间戳。表示距离 1970-01-01零点 UTC的毫秒数。 | { <br/> "type": "long", <br/> "logicalType": "timestamp-millis" <br>}                                      |
| timestamp-micros       | long  | 带时区的时间戳。表示距离 1970-01-01零点 UTC的微秒数。 | { <br/> "type": "long", <br/> "logicalType": "timestamp-micros" <br/>}                                     |
| local-timestamp-millis | long  | 不带时区的时间戳。表示距离 1970-01-01零点的毫秒数。    | { <br/> "type": "long", <br/> "logicalType": "local-timestamp-millis" <br>}                                |
| local-timestamp-micros | long  | 不带时区的时间戳。表示距离 1970-01-01零点的微秒数。    | { <br/> "type": "long", <br/> "logicalType": "local-timestamp-micros" <br/>}                               |
| duration               | fixed | 表示时间差，精度到毫秒                        | {"type":"fixed",<br>"logicalType": "duration" <br/>"name":"MD5Hash",<br>"size":"12",<br>}                  |









##### 参考文档

- [Apache Avro&#153; 1.10.0 Specification](http://avro.apache.org/docs/current/spec.html#Logical+Types)

- [数据治理篇-数据质量-数据模式: avro概述 - 简书](https://www.jianshu.com/p/c45874c270fe?from=timeline)
