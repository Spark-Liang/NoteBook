### 领域对象设计

- 领域对象关系到数据库表设计
  
  - 关联关系
    
    - 一对一
    
    - 一对多
    
    - 多对一
    
    - 多对多
  
  - 继承

- 领域对象类型
  
  - 分类
  
  - 贫血模型和充血模型

#### 领域对象类型

##### 分类

- 服务：负责在领域对象之外的操作和行为，接收用户请求和执行某些复合操作

- 实体：通过唯一标识字段来区分真实世界的对象实例，**并且是具有可变性和具有状态的**

- 值对象：代表真实事件中一成不变的本质性的事物。**具有不变性**

##### 贫血模型和充血模型

- 贫血模型
  
  - 对象只包含getter和setter，不包含业务逻辑

- 充血模型
  
  - 把领域建模直接映射成对象类型

对比：

- 充血模型
  
  - 优点：
    
    - 保持了领域模型的原貌
    
    - 适合需要进行封装的对象，和需要使用继承和多态的复杂结构。
  
  - 缺点：
    
    - 对面向对象设计能力要求较高
    
    - 需要具备相关技术组装领域对象。

- 贫血模型优点：
  
  - 简单
  
  - 更容易组合负责的业务逻辑。复杂的业务代码可以拆分成多个service的方法的组合，通过贫血实体进行传递输入和输出参数。
